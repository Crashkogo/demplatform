# Проект "ConsultantPlus"

## Обзор проекта

Это веб-приложение "ConsultantPlus" для управления материалами. Это full-stack JavaScript проект с бэкендом на Node.js и фронтендом на Vanilla JavaScript.

**Ключевые особенности:**

*   **Управление материалами:** Пользователи могут загружать, просматривать и скачивать материалы (документы, видео, изображения).
*   **Иерархические категории:** Материалы организованы в древовидную структуру категорий.
*   **Роли пользователей:** Приложение имеет роль `admin` с полным доступом и роль `client` для просмотра материалов.
*   **Поиск:** Предоставляет функциональность поиска на стороне сервера и клиента.
*   **REST API:** Комплексный REST API для управления ресурсами.

**Технологии:**

*   **Бэкенд:**
    *   Node.js
    *   Express.js
    *   PostgreSQL
    *   Sequelize (ORM)
    *   JWT (для аутентификации)
    *   Multer (для загрузки файлов)
*   **Фронтенд:**
    *   Vanilla JavaScript
    *   Bootstrap 5
    *   Axios
    *   jsTree
    *   Fuse.js

## Сборка и запуск

1.  **Установка зависимостей:**
    ```bash
    npm install
    ```

2.  **Настройка окружения:**
    *   Создайте файл `.env` в корневом каталоге, скопировав `env.example`.
    *   Обновите файл `.env` вашими учетными данными для базы данных PostgreSQL.

3.  **Настройка базы данных:**
    *   Чтобы создать таблицы базы данных и заполнить их начальными данными (включая пользователя-администратора по умолчанию), выполните:
        ```bash
        npm run db:setup
        ```

4.  **Запуск приложения:**
    *   Для разработки с автоматической перезагрузкой:
        ```bash
        npm run dev
        ```
    *   Для запуска с HTTPS (после генерации SSL-сертификатов с помощью `npm run generate-ssl`):
        ```bash
        npm run https-dev
        ```
    *   Для продакшена:
        ```bash
        npm start
        ```

**Учетные данные по умолчанию:**

*   **Логин:** `admin`
*   **Пароль:** `admin123`

## Соглашения по разработке

*   **Структура проекта:** Проект следует стандартной структуре приложений Node.js, разделяя логику на каталоги `models`, `routes`, `middleware` и `public`.
*   **Бэкенд:**
    *   Бэкенд написан на JavaScript (ES6+).
    *   Используется `async/await` для обработки асинхронных операций.
    *   Sequelize используется в качестве ORM для взаимодействия с базой данных.
    *   API-маршруты определены в каталоге `routes`.
*   **Фронтенд:**
    *   Фронтенд создан на чистом JavaScript, без использования тяжелых фреймворков.
    *   `app.js` содержит основную логику для клиентского приложения.
    *   `admin.js` содержит логику для панели администратора.
    *   API-запросы выполняются с помощью библиотеки `axios`.
*   **База данных:**
    *   Модели базы данных определены в каталоге `models`.
    *   Миграции и начальное заполнение базы данных выполняются с помощью скриптов из каталога `scripts`.